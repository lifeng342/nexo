ç°åœ¨åŸºäºæ–¹æ¡ˆå’Œopen-im-serverçš„ä»£ç æ¥å¸®æˆ‘å®ç°è¿™ä¸ªç®€å•çš„imç³»ç»Ÿï¼Œæœ‰ä»¥ä¸‹å‡ ç‚¹è¦æ±‚ï¼š
1. logåº“ä½¿ç”¨https://github.com/mbeoliero/kit/log
2. gormä½¿ç”¨æ³›å‹ï¼šhttps://gorm.io/docs/the_generics_way.html


è¿™ä¸ªé¡¹ç›®æ˜¯åŸºäºopen-im-serverï¼ˆhttps://github.com/openimsdk/open-im-server ä»£ç ï¼š ï¼‰å®ç°çš„ç®€å•imç³»ç»Ÿï¼Œç°åœ¨è¯·ä½ å¯¹æ¯”ä¸¤ä¸ªä»£ç ä»“åº“çš„å„ä¸ªæ¥å£å®ç°ï¼Œå¯¹æ¯”æ ¸å¿ƒé€»è¾‘å·®å¼‚ï¼Œæ£€æŸ¥æ˜¯å¦å­˜åœ¨é€»è¾‘æ¼æ´ï¼Œç»™å‡ºä¿®å¤æ„è§ï¼Œè¾“å‡ºåˆ°é¡¹ç›®æ–‡ä»¶ä¸­

è¿™ä¸ªé¡¹ç›®æ˜¯åŸºäºopen-im-serverï¼ˆhttps://github.com/openimsdk/open-im-server ä»£ç ï¼š ï¼‰å®ç°çš„ç®€å•imç³»ç»Ÿï¼Œç°åœ¨æˆ‘éœ€è¦è¿›è¡Œæµ‹è¯•ï¼Œåº”è¯¥æ€ä¹ˆæµ‹ï¼Ÿ

æ€»ç»“                                                                                                                                                                                                             
                                                                                                                                                                                                                   
  å·²åˆ›å»ºå®Œæ•´çš„è‡ªåŠ¨åŒ–æµ‹è¯•æ–¹æ¡ˆï¼š                                                                                                                                                                                     
                                                                                                                                                                                                                   
  ğŸ“ æ–°å¢æ–‡ä»¶                                                                                                                                                                                                      
                                                                                                                                                                                                                   
  1. Makefile - è‡ªåŠ¨åŒ–æ„å»ºå’Œæµ‹è¯•                                                                                                                                                                                   
  2. scripts/wait-for-services.sh - ç­‰å¾… Docker æœåŠ¡å°±ç»ªçš„è„šæœ¬                                                                                                                                                     
                                                                                                                                                                                                                   
  ğŸš€ å¸¸ç”¨å‘½ä»¤                                                                                                                                                                                                      
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                                                                                                      
  â”‚               å‘½ä»¤               â”‚                 è¯´æ˜           â”‚                                                                                                                                      
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                                                                                                                      
  â”‚ make test                        â”‚ å®Œæ•´æµ‹è¯•ï¼ˆè‡ªåŠ¨å¯åŠ¨ Docker + æœåŠ¡å™¨ï¼‰ â”‚                                                                                                                                      
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                                                                                                                      
  â”‚ make test-quick                  â”‚ å¿«é€Ÿæµ‹è¯•ï¼ˆå‡è®¾ Docker å·²è¿è¡Œï¼‰       â”‚                                                                                                                                      
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                                                                                                                      
  â”‚ make test-specific TEST=TestAuth â”‚ è¿è¡ŒæŒ‡å®šæµ‹è¯•                         â”‚                                                                                                                                      
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                                                                                                                      
  â”‚ make docker-up                   â”‚ å¯åŠ¨ MySQL å’Œ Redis                  â”‚                                                                                                                                      
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                                                                                                                      
  â”‚ make docker-down                 â”‚ åœæ­¢å¹¶æ¸…ç†å®¹å™¨                       â”‚                                                                                                                                      
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                                                                                                                      
  â”‚ make server-bg                   â”‚ åå°å¯åŠ¨æœåŠ¡å™¨                       â”‚                                                                                                                                      
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                                                                                                                      
  â”‚ make server-stop                 â”‚ åœæ­¢æœåŠ¡å™¨                           â”‚                                                                                                                                      
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                                                                                                                      
  â”‚ make test-ci                     â”‚ CI æ¨¡å¼ï¼ˆå®Œå…¨å¹²å‡€ç¯å¢ƒï¼‰              â”‚                                                                                                                                      
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                                                                                                      
  âœ… æµ‹è¯•ç»“æœ                                                                                                                                                                                                      
                                                                                                                                                                                                                   
  æ‰€æœ‰ 29 ä¸ªæµ‹è¯• å…¨éƒ¨é€šè¿‡ï¼š                                                                                                                                                                                        
  - Auth: 3 ä¸ªæµ‹è¯•ç»„                                                                                                                                                                                               
  - Conversation: 6 ä¸ªæµ‹è¯•ç»„                                                                                                                                                                                       
  - Flow: 3 ä¸ªæµ‹è¯•ç»„                                                                                                                                                                                               
  - Group: 4 ä¸ªæµ‹è¯•ç»„                                                                                                                                                                                              
  - Message: 4 ä¸ªæµ‹è¯•ç»„                                                                                                                                                                                            
  - User: 2 ä¸ªæµ‹è¯•ç»„                                                                                                                                                                                               
  - WebSocket: 4 ä¸ªæµ‹è¯•ç»„                                                                                                                                                                                          
                                                                                                                                                                                                                   
  ğŸ”§ ä¿®å¤çš„é—®é¢˜                                                                                                                                                                                                    
                                                                                                                                                                                                                   
  1. æœªè¯»æ•°é—®é¢˜ - ä¿®å¤äº† UpdateReadSeq çš„ UPSERT é€»è¾‘                                                                                                                                                              
  2. ç”¨æˆ·ä¿¡æ¯è·¯ç”± - å°† /user/info/:user_id æ”¹ä¸º /user/profile/:user_id                                                                                                                                             
  3. WebSocket å´©æºƒ - æ·»åŠ äº† panic recovery æœºåˆ¶                                                                                                                                                                   
  4. WebSocket è®¤è¯ - ä¿®å¤äº† platform_id ä¸åŒ¹é…é—®é¢˜  